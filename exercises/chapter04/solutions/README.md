# 第4章 カプセル化とアクセス修飾子 - 解答例

## 📚 本章の学習目標

この章では、Javaにおけるカプセル化の重要な概念を学習します。

### 主要な学習ポイント
1. **カプセル化の基本概念**
   - データの隐蔽と保護
   - privateフィールドとpublicメソッドの使い分け
   - 制御されたアクセス

2. **getter/setterメソッド**
   - データへの適切なアクセス方法
   - 妄当性検証の実装
   - ビジネスロジックの組み込み

3. **アクセス修飾子**
   - public, private, protectedの違い
   - 適切なアクセスレベルの設定
   - セキュリティを考慮した設計

## 📝 課題別解答例

### 課題1: Employee クラス
**ファイル**: `Employee.java`, `EmployeeTest.java`

#### 実装のポイント
- **privateフィールド**: 外部からの直接アクセスを防止
- **妄当性検証**: setterメソッドでデータの整合性を保証
- **エラーハンドリング**: 不正な値の処理

### 課題2: SecureBankAccount クラス
**ファイル**: `SecureBankAccount.java`, `SecureBankAccountTest.java`

#### 実装のポイント
- **認証システム**: PINコードによるセキュリティ
- **取引履歴**: 操作の記録と管理
- **アカウントロック**: 不正アクセスの防止

### 課題3: Product クラス
**ファイル**: `Product.java`, `ProductTest.java`

#### 実装のポイント
- **在庫管理**: 入荷・出荷の適切な処理
- **価格計算**: 税込価格の自動計算
- **ビジネスルール**: 在庫不足のチェック

### 課題4: Game クラス
**ファイル**: `Game.java`, `GameTest.java`

#### 実装のポイント
- **ゲーム状態管理**: booleanフャグで状態制御
- **レベルアップロジック**: スコアに応じた自動処理
- **状態遮断**: ゲーム終了後の操作禁止

## 🔍 重要な学習ポイント

### 1. カプセル化の原則
- **データの隐蔽**: privateフィールドで内部データを保護
- **制御されたアクセス**: getter/setterメソッドでアクセス制御
- **データの整合性**: setterメソッドでの妄当性検証

### 2. セキュリティの考慮
- **認証システム**: 機密データへのアクセス制御
- **ログ管理**: 操作履歴の記録と追跡
- **エラーハンドリング**: 不正な操作の適切な処理

### 3. ビジネスロジックの実装
- **ドメインルール**: 業務上のルールをコードに反映
- **状態管理**: オブジェクトの状態遷移を適切に制御
- **一貫性保証**: データの整合性を常に維持

## 📊 学習効果の測定

### 理解度チェックリスト
- [ ] カプセル化の基本概念を理解している
- [ ] privateフィールドとpublicメソッドを適切に使い分けられる
- [ ] getter/setterメソッドを実装できる
- [ ] データの妄当性検証を考慮した設計ができる
- [ ] エラーハンドリングを適切に実装できる



**注意**: この解答例は学習目的で作成されています。実際の開発では、プロジェクトの要件や規約に従って適切に修正してください。