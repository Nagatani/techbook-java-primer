# 第2章 チャレンジ課題

## 🎯 学習目標
- 高度なオブジェクト指向設計
- 複雑なビジネスロジックの実装
- データの整合性管理
- ユーザーインターフェースの改良
- 実用的なアプリケーション開発

## 📝 課題一覧

### 課題1: オンライン書店システム
**ファイル名**: `OnlineBookStore.java`

本格的なオンライン書店の管理システムを作成してください。

**要求仕様**:

**基本機能**:
- 書籍管理（追加、削除、更新、検索）
- 顧客管理（登録、プロフィール管理）
- 注文処理（カート機能、注文履歴）
- 在庫管理（在庫数追跡、自動警告）

**高度な機能**:
- 評価・レビューシステム
- 推薦機能（購入履歴基づく）
- 割引・クーポンシステム
- 売上統計とレポート

**実装すべきクラス**:

```java
class Book {
    // フィールド: ISBN, タイトル, 著者, 価格, 在庫数, カテゴリ, 評価平均
    // メソッド: 在庫管理, 評価追加, 情報更新
}

class Customer {
    // フィールド: 顧客ID, 名前, 連絡先, 購入履歴, ポイント
    // メソッド: プロフィール管理, 購入履歴参照, ポイント管理
}

class Order {
    // フィールド: 注文ID, 顧客, 注文項目, 総額, 注文日, 状態
    // メソッド: 注文処理, 状態更新, 請求書生成
}

class OnlineBookStore {
    // フィールド: 書籍リスト, 顧客リスト, 注文履歴
    // メソッド: 検索, 注文処理, 統計, 推薦機能
}
```

**実行例**:
```
=== オンライン書店システム ===

📚 テックブックストアへようこそ！

=== 書籍登録 ===
✓ 「Java完全入門」(¥3,200) を登録 - 在庫: 50冊
✓ 「Python実践」(¥2,800) を登録 - 在庫: 30冊
✓ 「データベース設計」(¥4,500) を登録 - 在庫: 20冊

=== 顧客登録 ===
✓ 田中太郎さん (ID: C001) を登録
✓ 佐藤花子さん (ID: C002) を登録

=== 注文処理 ===
田中太郎さんの注文:
- Java完全入門 × 2冊 = ¥6,400
- Python実践 × 1冊 = ¥2,800
小計: ¥9,200
ポイント割引: -¥200
合計: ¥9,000

✓ 注文完了 (注文ID: ORD001)
獲得ポイント: 90ポイント

=== 書籍検索 ===
「Java」で検索:
🔍 Java完全入門 - ¥3,200 (在庫: 48冊)
   ⭐ 評価: 4.2 (レビュー: 15件)
   📖 カテゴリ: プログラミング

=== レビュー追加 ===
田中太郎さんが「Java完全入門」にレビュー投稿:
評価: ⭐⭐⭐⭐⭐ (5.0)
コメント: "初心者にも分かりやすく、実例が豊富で素晴らしい！"

=== 推薦システム ===
田中太郎さんへの推薦:
💡 「JavaScript基礎」- 同じカテゴリの人気書籍
💡 「SQL実践ガイド」- 購入者がよく一緒に買う書籍

=== 売上レポート ===
本日の売上: ¥9,000
販売冊数: 3冊
人気書籍: Java完全入門 (2冊販売)
```

**評価ポイント**:
- 複雑なビジネスロジックの実装
- データの整合性管理（在庫と注文の連動）
- 高度な検索・推薦機能
- 実用的なユーザビリティ



### 課題2: 総合人事管理システム
**ファイル名**: `HRManagementSystem.java`

企業の人事管理を行う総合システムを作成してください。

**要求仕様**:

**基本機能**:
- 従業員情報管理
- 部署・職位管理
- 給与計算システム
- 勤怠管理

**高度な機能**:
- 人事評価システム
- 昇進・昇格管理
- 福利厚生管理
- 統計・分析機能

**実装すべきクラス**:

```java
class Employee {
    // フィールド: 社員ID, 名前, 部署, 職位, 給与, 入社日, スキル
    // メソッド: 給与計算, 評価記録, 昇進処理
}

class Department {
    // フィールド: 部署名, 部署長, メンバーリスト, 予算
    // メソッド: メンバー管理, 部署統計, 予算管理
}

class PayrollSystem {
    // フィールド: 給与テーブル, 手当情報, 控除項目
    // メソッド: 給与計算, 明細生成, 年末調整
}

class HRManagementSystem {
    // フィールド: 従業員DB, 部署情報, 人事ポリシー
    // メソッド: 人事管理, レポート生成, 分析機能
}
```

**実行例**:
```
=== 総合人事管理システム ===

🏢 ABC株式会社 人事部

=== 従業員登録 ===
✓ 山田太郎 (ID: EMP001) - 開発部 / 主任
✓ 佐藤花子 (ID: EMP002) - 営業部 / 係長  
✓ 田中次郎 (ID: EMP003) - 開発部 / 一般

=== 給与計算 ===
山田太郎の給与明細 (2024年7月):
基本給: ¥320,000
職位手当: ¥50,000
残業手当: ¥25,000
総支給額: ¥395,000
控除合計: ¥78,500
差引支給額: ¥316,500

=== 人事評価 ===
山田太郎の評価 (2024年上期):
技術力: A (優秀)
コミュニケーション: B (良好)
リーダーシップ: A (優秀)
総合評価: A

→ 昇進候補として推薦

=== 部署統計 ===
開発部:
- 人数: 25名
- 平均年齢: 32.4歳
- 平均勤続年数: 4.2年
- 部署予算利用率: 78%

=== 人事分析 ===
離職率: 3.2% (業界平均より低い)
昇進者数: 8名 (前年同期比 +20%)
研修参加率: 92%
```

**評価ポイント**:
- 企業システムの複雑さへの対応
- 給与計算等の正確な処理
- 階層構造の適切な実装
- データセキュリティの考慮



### 課題3: スマート在庫管理システム
**ファイル名**: `SmartInventorySystem.java`

IoT時代に対応したスマート在庫管理システムを作成してください。

**要求仕様**:

**基本機能**:
- 商品マスタ管理
- 入出庫管理
- 在庫レベル監視
- 発注管理

**スマート機能**:
- 自動発注システム
- 需要予測
- QRコード対応
- リアルタイム監視

**実装すべきクラス**:

```java
class Product {
    // フィールド: 商品コード, 名前, カテゴリ, 発注点, 最大在庫
    // メソッド: QRコード生成, 需要分析, 在庫警告
}

class Inventory {
    // フィールド: 商品, 現在庫数, 予約数, 倉庫位置
    // メソッド: 在庫更新, 移動処理, 状態監視
}

class AutoOrderSystem {
    // フィールド: 発注ルール, 供給業者情報, 発注履歴
    // メソッド: 自動発注判定, 発注処理, 納期管理
}

class SmartInventorySystem {
    // フィールド: 商品DB, 在庫情報, センサーデータ
    // メソッド: 統合管理, 予測分析, アラート機能
}
```

**実行例**:
```
=== スマート在庫管理システム ===

🤖 スマートウェアハウス v2.0

=== 商品登録 ===
✓ ノートPC (PRD001) - QRコード生成完了
✓ マウス (PRD002) - QRコード生成完了
✓ キーボード (PRD003) - QRコード生成完了

=== リアルタイム監視 ===
📊 現在の在庫状況:
ノートPC: 15台 (発注点: 10台) ✅ 正常
マウス: 8個 (発注点: 20個) ⚠️ 発注点以下
キーボード: 25個 (発注点: 15個) ✅ 正常

=== 自動発注システム ===
🔔 発注アラート:
商品: マウス (PRD002)
現在庫: 8個 → 発注点: 20個
推奨発注量: 50個 (1週間分の需要予測)

✓ 自動発注を実行
発注先: Tech Supply Co.
納期予定: 3営業日

=== 需要予測 ===
マウスの需要分析:
- 過去30日平均: 7個/日
- 季節要因: +15% (新学期効果)
- トレンド: 微増 (+2%)
予測需要: 8個/日

=== QRコード追跡 ===
QRコード PRD001-0001 をスキャン:
商品: ノートPC
出庫日時: 2024-07-05 14:30
顧客: ABC商事
配送状況: 配送準備中

=== 在庫最適化提案 ===
💡 最適化提案:
1. ノートPCの発注点を12台に調整 (欠品リスク削減)
2. 倉庫レイアウトの改善 (ピッキング効率 +15%)
3. キーボードの安全在庫削減可能 (コスト削減 ¥50,000/月)
```

**評価ポイント**:
- IoT・スマートシステムの概念理解
- 予測アルゴリズムの実装
- 自動化システムの設計
- リアルタイム処理の実装

## 💡 実装のヒント

### 課題1のヒント
```java
class ShoppingCart {
    private ArrayList<CartItem> items;
    private double totalAmount;
    
    public void addItem(Book book, int quantity) {
        if (book.getStock() >= quantity) {
            items.add(new CartItem(book, quantity));
            updateTotal();
        }
    }
    
    public Order checkout(Customer customer) {
        Order order = new Order(customer, items);
        return order.process();
    }
}
```

### 課題2のヒント
```java
class PayrollCalculator {
    public PaySlip calculatePay(Employee emp, int workDays, int overtimeHours) {
        double basePay = emp.getBaseSalary() / 30 * workDays;
        double overtimePay = emp.getHourlyRate() * overtimeHours * 1.25;
        double allowances = calculateAllowances(emp);
        double deductions = calculateDeductions(basePay + overtimePay + allowances);
        
        return new PaySlip(basePay, overtimePay, allowances, deductions);
    }
}
```

### 課題3のヒント
```java
class DemandPredictor {
    public int predictDemand(Product product, int days) {
        // 過去の販売データを分析
        List<SalesData> history = getSalesHistory(product, 30);
        double avgDaily = calculateAverageDaily(history);
        double seasonalFactor = getSeasonalFactor(product);
        double trendFactor = getTrendFactor(history);
        
        return (int)(avgDaily * days * seasonalFactor * trendFactor);
    }
}
```

## 🔍 応用のポイント

1. **複雑なビジネスロジック**: 現実世界の複雑な要求への対応
2. **データの整合性**: 複数オブジェクト間の一貫性保持
3. **拡張性**: 将来の機能追加を考慮した設計
4. **パフォーマンス**: 大量データの効率的な処理
5. **ユーザビリティ**: 実用的で使いやすいインターフェース

## ✅ 完了チェックリスト

### 基本要件
- [ ] 全ての基本機能が正常に動作する
- [ ] 適切なオブジェクト指向設計ができている
- [ ] データの整合性が保たれている
- [ ] エラーハンドリングが適切である

### 高度要件
- [ ] 高度な機能が実装されている
- [ ] 実用的なレベルの完成度である
- [ ] パフォーマンスが最適化されている
- [ ] コードが保守しやすい構造である

### 創造性
- [ ] 独自の工夫や改善がある
- [ ] 現実的な問題への対応ができている
- [ ] ユーザーの視点が考慮されている
- [ ] 将来の拡張可能性がある

**次のステップ**: チャレンジ課題が完了したら、第3章のコンストラクタ課題に挑戦しましょう！

## 🌟 追加チャレンジ（超上級者向け）

### 統合課題: エンタープライズシステム
3つのシステム（書店、人事、在庫）を統合した企業向け統合システムを作成：
- 単一ログインシステム
- 部門間データ連携
- 統合レポート機能
- 権限管理システム
- 監査ログ機能

この統合システムにより、エンタープライズレベルのシステム設計を体験できます！