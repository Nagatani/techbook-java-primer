# 第2章 応用課題

## 🎯 学習目標
- 複数クラスの連携設計
- オブジェクト指向らしい実装
- 実用的なクラス設計
- メソッドとフィールドの適切な使い分け
- オブジェクトの状態管理

## 📝 課題一覧

### 課題1: 図書管理システム
**ファイル名**: `LibraryManagement.java`

書籍とそれを管理する図書館クラスを設計し、基本的な図書管理機能を実装してください。

**要求仕様**:
- Bookクラス: 書籍情報の管理
- Libraryクラス: 複数書籍の管理
- 基本操作: 追加、検索、貸出、返却
- 書籍の状態管理

**実装すべきクラス**:

```java
class Book {
    // フィールド: タイトル、著者、ISBN、貸出状況、貸出者
    // メソッド: ゲッター/セッター、貸出/返却処理、情報表示
}

class Library {
    // フィールド: 書籍リスト、図書館名
    // メソッド: 書籍追加、検索、貸出管理、統計表示
}
```

**実行例**:
```
=== 図書管理システム ===

中央図書館にようこそ！

書籍を追加しています...
✓ 「Java入門」- 山田太郎 (ISBN: 978-1234567890) を追加
✓ 「データ構造とアルゴリズム」- 佐藤花子 (ISBN: 978-0987654321) を追加
✓ 「デザインパターン」- 田中次郎 (ISBN: 978-1122334455) を追加

=== 図書館の状況 ===
登録書籍数: 3冊
貸出中: 0冊
利用可能: 3冊

=== 書籍検索 ===
「Java」で検索:
[利用可能] Java入門 - 山田太郎 (ISBN: 978-1234567890)

=== 貸出処理 ===
「Java入門」を田中さんに貸出
✓ 貸出完了

=== 現在の状況 ===
登録書籍数: 3冊
貸出中: 1冊
利用可能: 2冊

貸出中の書籍:
- Java入門 (貸出者: 田中さん)
```

**評価ポイント**:
- 適切なフィールドとメソッドの設計
- オブジェクトの状態変更の管理
- クラス間の連携実装
- 実用的な機能の追加



### 課題2: 成績管理プログラム
**ファイル名**: `GradeManagement.java`

学生の成績を管理するシステムを作成してください。

**要求仕様**:
- Studentクラス: 学生情報と成績管理
- GradeBookクラス: 複数学生の成績管理
- 成績計算: 平均点、最高点、最低点
- 成績評価: A/B/C/D/Fの判定

**実装すべきクラス**:

```java
class Student {
    // フィールド: 学生ID、名前、科目別成績
    // メソッド: 成績追加、平均計算、評価取得、情報表示
}

class GradeBook {
    // フィールド: 学生リスト、クラス名
    // メソッド: 学生追加、統計計算、レポート生成
}
```

**実行例**:
```
=== 成績管理システム ===

プログラミング基礎クラス

学生を登録しています...
✓ 学生ID: S001, 名前: 山田太郎
✓ 学生ID: S002, 名前: 佐藤花子  
✓ 学生ID: S003, 名前: 田中次郎

成績を登録しています...
山田太郎: 数学=85, 英語=78, 理科=92
佐藤花子: 数学=94, 英語=89, 理科=87
田中次郎: 数学=76, 英語=82, 理科=79

=== 個人成績レポート ===

学生: 山田太郎 (S001)
科目別成績:
- 数学: 85点 (B)
- 英語: 78点 (C)  
- 理科: 92点 (A)
平均点: 85.0点 (B)

学生: 佐藤花子 (S002)
科目別成績:
- 数学: 94点 (A)
- 英語: 89点 (B)
- 理科: 87点 (B)
平均点: 90.0点 (A)

=== クラス統計 ===
登録学生数: 3名
クラス平均: 82.7点
最高得点: 94点 (佐藤花子 - 数学)
最低得点: 76点 (田中次郎 - 数学)

成績分布:
A: 1名 (33.3%)
B: 1名 (33.3%)  
C: 1名 (33.3%)
```

**評価ポイント**:
- 配列やArrayListの適切な使用
- 成績計算ロジックの実装
- オブジェクト指向的な設計
- 統計情報の算出



### 課題3: 銀行口座システム
**ファイル名**: `BankAccountSystem.java`

銀行口座の管理と取引処理を行うシステムを作成してください。

**要求仕様**:
- BankAccountクラス: 口座情報と取引処理
- Transactionクラス: 取引履歴の記録
- Bankクラス: 複数口座の管理
- 機能: 入金、出金、残高照会、取引履歴

**実装すべきクラス**:

```java
class Transaction {
    // フィールド: 取引ID、種類、金額、日時、残高
    // メソッド: 取引情報の取得、表示
}

class BankAccount {
    // フィールド: 口座番号、口座名義、残高、取引履歴
    // メソッド: 入金、出金、残高照会、履歴表示
}

class Bank {
    // フィールド: 銀行名、口座リスト
    // メソッド: 口座開設、口座検索、総合レポート
}
```

**実行例**:
```
=== 銀行口座管理システム ===

みらい銀行へようこそ！

口座を開設しています...
✓ 口座開設: 1001-山田太郎 (初回入金: ¥50,000)
✓ 口座開設: 1002-佐藤花子 (初回入金: ¥30,000)

=== 取引処理 ===

口座 1001-山田太郎:
入金: ¥20,000
現在残高: ¥70,000

出金: ¥15,000  
現在残高: ¥55,000

口座 1002-佐藤花子:
入金: ¥10,000
現在残高: ¥40,000

=== 口座明細 ===

口座番号: 1001
口座名義: 山田太郎
現在残高: ¥55,000

取引履歴:
2024-01-15 10:30 | 開設     | +¥50,000 | 残高: ¥50,000
2024-01-15 11:00 | 入金     | +¥20,000 | 残高: ¥70,000  
2024-01-15 11:15 | 出金     | -¥15,000 | 残高: ¥55,000

=== 銀行統計 ===
総口座数: 2口座
総預金残高: ¥95,000
平均残高: ¥47,500
取引件数: 6件
```

**評価ポイント**:
- 金融システムの基本概念理解
- 取引履歴の管理実装
- 例外処理（残高不足等）
- データの整合性確保

## 💡 実装のヒント

### 課題1のヒント
```java
class Book {
    private String title;
    private String author;
    private String isbn;
    private boolean isRented;
    private String renterName;
    
    public boolean rent(String renterName) {
        if (!isRented) {
            this.isRented = true;
            this.renterName = renterName;
            return true;
        }
        return false;
    }
}
```

### 課題2のヒント
```java
class Student {
    private String studentId;
    private String name;
    private ArrayList<Integer> scores;
    
    public double getAverage() {
        int sum = 0;
        for (int score : scores) {
            sum += score;
        }
        return (double) sum / scores.size();
    }
    
    public String getGrade() {
        double avg = getAverage();
        if (avg >= 90) return "A";
        else if (avg >= 80) return "B";
        else if (avg >= 70) return "C";
        else if (avg >= 60) return "D";
        else return "F";
    }
}
```

### 課題3のヒント
```java
class BankAccount {
    private String accountNumber;
    private String accountHolder;
    private double balance;
    private ArrayList<Transaction> transactions;
    
    public boolean withdraw(double amount) {
        if (balance >= amount) {
            balance -= amount;
            addTransaction("出金", -amount);
            return true;
        }
        return false;
    }
}
```

## 🔍 応用のポイント

1. **カプセル化**: private フィールドと public メソッドの適切な使い分け
2. **オブジェクトの状態**: フィールドの値変更によるオブジェクトの状態管理
3. **クラス間連携**: 複数のオブジェクトが協力して動作する設計
4. **データ構造**: ArrayList や配列を使った複数データの管理
5. **実用性**: 現実世界の問題に対応したクラス設計

## ✅ 完了チェックリスト

- [ ] 課題1: 図書管理システムが正常に動作する
- [ ] 課題2: 成績管理プログラムが実装できた
- [ ] 課題3: 銀行口座システムが動作する
- [ ] 適切なカプセル化が実装されている
- [ ] クラス間の連携が正しく動作している
- [ ] オブジェクトの状態管理ができている

**次のステップ**: 応用課題が完了したら、challenge/のチャレンジ課題に挑戦してみましょう！