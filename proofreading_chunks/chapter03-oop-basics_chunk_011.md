<!-- 
校正チャンク情報
================
元ファイル: chapter03-oop-basics.md
チャンク: 11/12
行範囲: 2369 - 2591
作成日時: 2025-08-02 14:34:01

校正時の注意事項:
- 文章の流れは前後のチャンクを考慮してください
- このヘッダーとフッターは校正対象外です
- 校正が完了したらステータスを「completed」に変更してください
================
-->

### よくある実装ミスと対策

| ミスの種類 | 症状 | 対策 |
|------------|------|------|
| フィールドの初期化忘れ | NullPointerException | コンストラクタで確実に初期化 |
| thisの使い忘れ | 引数とフィールドの混同 | 同名の場合は必ずthisを使用 |
| staticの誤用 | "non-static variable" エラー | インスタンスメソッドではstaticを外す |
| アクセス修飾子の誤り | privateフィールドに直接アクセス | ゲッターメソッドを使用 |

### 段階的な実装アプローチ

1. スケルトン作成（5分）
   - クラスの枠組みだけ作成
   - メソッドのシグネチャだけ定義
   - コンパイルが通ることを確認

2. 基本機能実装（15分）
   - もっとも簡単なメソッドから実装
   - 各メソッドごとに動作確認
   - printlnでデバッグ出力

3. 機能追加（10分）
   - エラーチェック追加
   - 出力の整形
   - コメント追加

4. テストと改善（10分）
   - 境界値でのテスト
   - エラーケースの確認
   - コードの整理

### 学習を深める追加実験

基礎課題の完了後、以下の実験を試してみましょう。

1. メモリ効率の実験
   - 大量のオブジェクトを作成して挙動を観察
   - staticメソッドとインスタンスメソッドの使い分け

2. 設計の改善
   - より使いやすいAPIを考える
   - メソッドチェーンの実装に挑戦

3. 実用的な拡張
   - ファイルからデータを読み込む（次章の予習）
   - 簡単な対話型プログラムの作成

### デバッグのヒント

#### オブジェクト指向特有のデバッグ方法
1. `toString()`メソッドの活用
   - オブジェクトの状態を文字列で確認
   - デバッグ時の状態把握に便利
2. 段階的なコンストラクタ実行
   - 各フィールドの初期化を確認
   - `this`の参照先を意識
3. メソッド呼び出しの追跡
   - どのオブジェクトのメソッドが呼ばれているか
   - staticコンテキストとインスタンスコンテキストの区別

次のステップ： 基礎課題が完了したら、第4章「クラスとインスタンス」に進みましょう。第4章では、より高度なクラス設計と、複数クラスの連携について学びます。

> ※ 本章の高度な内容については、付録B.03「ソフトウェア設計原則」（`https://github.com/Nagatani/techbook-java-primer/tree/main/appendix/b03-software-design-principles/`）を参照してください。

## 次章への橋渡し

本章では、オブジェクト指向プログラミングの基本的な考え方と、クラス・フィールド・メソッドの基本的な書き方を学びました。簡単なgetter/setterメソッドやpublic/privateの使い分けについても触れました。

次章「第4章クラスとインスタンス」では、企業システム開発で必須のカプセル化技術について学びます。具体的には以下の内容を扱います。

- アクセス修飾子（`public`、`private`、`protected`、パッケージプライベート）の詳細
- 完全なカプセル化の実現方法（BankAccountの段階的改善例）
- データ検証とバリデーション
- 防御的プログラミング
- パッケージシステムとクラスの組織化

第3章で学んだ基礎をもとに、実践的で堅牢なクラス設計の技術を身につけていきましょう。







## よくあるエラーと対処法

本章では、オブジェクト指向プログラミングの基礎を学ぶ際にとくによく遭遇するエラーを扱います。

### 本章特有のエラー

#### 1. クラスとインスタンスの概念の混乱

問題: クラス名で直接インスタンスメソッドを呼び出そうとしてエラーになる

<span class="listing-number">**サンプルコード3-40**</span>

```java
// エラー例
Student.setName("太郎");  // クラス名で呼び出している
```

解決策:

<span class="listing-number">**サンプルコード3-41**</span>

```java
// 正しい例
Student student = new Student();  // インスタンスを作成
student.setName("太郎");          // インスタンスから呼び出し
```

重要なポイント:

- クラスは設計図、インスタンスは実体
- インスタンスメソッドはnewで作成したオブジェクトから呼び出す
- IDEでのプログラミングの場合は自動補完機能を活用する

#### 2. static vs non-staticの混乱
問題: staticメソッドからインスタンスメンバーにアクセスしようとする

<span class="listing-number">**サンプルコード3-42**</span>

```java
// エラー例
public static void main(String[] args) {
    int result = add(5, 3);  // インスタンスメソッドを直接呼び出し
}
```

解決策:
<span class="listing-number">**サンプルコード3-43**</span>

```java
// 正しい例
public static void main(String[] args) {
    Calculator calc = new Calculator();
    int result = calc.add(5, 3);  // インスタンス経由で呼び出し
}
```

##### 重要なポイント
- staticメソッドはクラスに属し、インスタンスなしで呼び出せる
- インスタンスメソッドはオブジェクトに属し、インスタンスが必要

#### 3. 基本的な構文エラー
問題: Javaの基本構文を間違えて記述する

<span class="listing-number">**サンプルコード3-44**</span>

```java
// よくあるエラー例
System.out.println("Hello")  // セミコロン忘れ
Public class MyClass { }      // 大文字のP
```

解決策:
<span class="listing-number">**サンプルコード3-45**</span>

```java
// 正しい例
System.out.println("Hello");  // セミコロンを追加
public class MyClass { }      // 小文字のp
```

##### 重要なポイント
- すべての文の末尾にはセミコロンが必要
- キーワードは小文字（public、class、void等）
- クラス名は大文字で始める（慣例）

### 関連する共通エラー

以下のエラーも本章の内容に関連します。

- 　`NullPointerException`（→ 付録A.1.1）
    - とくに初期化されていないフィールドへのアクセスで発生しやすい
- コンストラクタエラー（→ 第4章）
    - 本章では基本概念のみ、詳細は第4章で学習
- アクセス修飾子エラー（→ 付録A.2.3）
    - `private`フィールドへの不正アクセス

### デバッグのヒント

#### エラーに遭遇した際の基本的な対処法

1. エラーメッセージを読む
    + 行番号とエラーの種類を確認
2. クラスとインスタンスの区別
    + staticかどうかを確認
3. 初期化の確認
    + すべてのフィールドが初期化されるか確認

### さらに学ぶには

- 付録H: Java共通エラーガイド（基本的なエラーパターン）
- 第4章: より詳細なコンストラクタとフィールドの扱い
- 第14章: 例外処理の体系的な学習

## オブジェクトの等価性とhashCode

オブジェクト指向プログラミングでは、オブジェクト同士が「等しい」かどうかを判定します。Javaでは、`==`演算子と`equals`メソッドの違いを理解することが重要です。

### ==演算子とequalsメソッドの違い

<span class="listing-number">**サンプルコード3-46**</span>

```java
public class StringComparison {
    public static void main(String[] args) {
        String str1 = new String("Hello");
        String str2 = new String("Hello");
        String str3 = str1;
        
        // ==演算子：参照の比較
        System.out.println(str1 == str2);  // false（異なるオブジェクト）
        System.out.println(str1 == str3);  // true（同じオブジェクトを参照）
        
        // equalsメソッド：値の比較
        System.out.println(str1.equals(str2));  // true（同じ値）
        System.out.println(str1.equals(str3));  // true（同じ値）
    }
}
```



<!-- 
================
チャンク 11/12 の終了
校正ステータス: [ ] 未完了 / [ ] 完了
================
-->
