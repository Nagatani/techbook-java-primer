<!-- 
校正チャンク情報
================
元ファイル: chapter01-introduction.md
チャンク: 2/6
行範囲: 173 - 367
作成日時: 2025-08-02 22:02:46

校正時の注意事項:
- 文章の流れは前後のチャンクを考慮してください
- このヘッダーとフッターは校正対象外です
- 校正が完了したらステータスを「completed」に変更してください
================
-->

#### Javaでのオブジェクト指向アプローチ

このコードは、オブジェクト指向の主要な原則を示しています。

1. カプセル化
    + データ（name, price）をprivateで保護
2. データと処理の一体化
    + 商品に関するデータとメソッドを同じクラス内に配置
3. 再利用性
    + Productクラスは他の場所でも使用可能

<span class="listing-number">**サンプルコード1-1**</span>

```java
// Product.java
public class Product {
    private String name;  // ①
    private int price;    // ②
    
    public Product(String name, int price) { // ③
        this.name = name;
        this.price = price;
    }
    
    public int getPriceWithTax() {           // ④
        return (int)(price * 1.1);
    }
    
    public void display() {                  // ⑤
        System.out.println(name + ": " + getPriceWithTax() + "円（税込）");
    }
}
```

<span class="listing-number">**サンプルコード1-2**</span>

```java
// Main.java
public class Main {
    public static void main(String[] args) {
        Product pencil = new Product("鉛筆", 100); // ⑥
        pencil.display();                            // ⑦
    }
}
```

#### 実行結果
```
鉛筆: 110円（税込）
```

#### コードの構造解説
- ①② privateフィールド
    + 外部から直接アクセスできないデータ領域
- ③ コンストラクタ
    + オブジェクト生成時の初期化処理
- ④ ビジネスロジック
    + 税込価格の計算処理
- ⑤ 表示処理
    + 商品情報の出力機能
- ⑥ オブジェクト生成
    + newキーワードでProductクラス（製品の名前や価格情報を持ち、税込み金額の計算処理、表示処理などの機能を持つ）のインスタンス（実体）を作成
- ⑦ メソッド呼び出し
    + オブジェクトの機能を実行（出力「鉛筆： 110円（税込）」）

> **注意点**: Javaでは1つのファイルに複数のpublicクラスを定義できません。上記の例では、Product.javaとMain.javaと2つのファイルに分けて保存してください。

#### C言語との違い

- C言語のアプローチ
    - データ（構造体）と処理（関数）が分離
    - 大規模になると、どの関数がどのデータを変更するか追跡が困難
    - グローバル変数による予期しない副作用のリスク

- Javaのアプローチ
    - データと処理を「クラス」という単位で一体化
    - `private`によりデータへの直接アクセスを制限（カプセル化）
    - オブジェクトごとに独立した状態を持っている

この違いがもっとも顕著に現れるのは、プログラムが大規模化したときです。
オブジェクト指向により、数百数千のクラスからなる大規模システムでも、各部分の責任範囲が明確になり、保守性と拡張性が向上します。

> より深く学びたい人へ。
> プログラミング言語がソースコードをどのように解釈し、実行可能な形式に変換するかについて興味がある人は、本書の巻末にある「Deep Dive: 抽象構文木（AST）とコンパイラの仕組み」をご覧ください。IDE（統合開発環境）の高度な機能や、現代的なフレームワークの動作原理を理解するうえで役立つ知識が得られます。

## Javaの特徴

Javaは1995年にSun Microsystems社によって開発され、現在では世界中でもっとも広く使われているプログラミング言語の1つです。その成功の背景には、設計段階から組み込まれた革新的な特徴があります。

もっとも重要な特徴はプラットフォーム独立性です。「Write Once, Run Anywhere（一度書けば、どこでも動く）」という理念のもと、Windows、macOS、Linuxなど、異なるOSで同じJavaプログラムが動作します。これは、Javaコンパイラがソースコードを中間言語である「バイトコード」に変換し、各OS上のJava仮想マシン（JVM）がそれを実行するという革新的なしくみによって実現されています。さらに、JVMは実行時に頻繁に使用されるバイトコードを機械語にコンパイルする「JIT（Just-In-Time）コンパイラ」を搭載しており、インタープリタ型言語でありながら高速な実行を実現しています。

<div class="figure">

![JVMアーキテクチャとプラットフォーム独立性](images/diagrams/figure01-01.png)

</div>

オブジェクト指向の採用も、Javaの成功要因の1つです。すべてのコードはクラスという単位で構造化され、データとそれを操作する処理が一体化されています。この設計により、大規模なソフトウェア開発でも各部分の責任範囲が明確になり、保守性と再利用性が飛躍的に向上します。

メモリ管理におけるガベージコレクション <span class="footnote">ガベージコレクション（Garbage Collection、GC）は、発音で言えばガーベジコレクションが正しいのですが、世間一般ではガベージの言い方が圧倒的多数という現実から、ガベージと書いています。</span> の導入は、プログラマを煩雑なメモリ管理から解放しました。C言語では手動でメモリの確保と解放を行う必要があり、解放忘れによるメモリリークや、二重解放によるクラッシュが頻発していました。Javaでは使われなくなったメモリを自動的に回収するため、開発者はビジネスロジックの実装に集中できます。

なお、Javaには「参照」という概念がありますが、C言語のポインタとは異なり、メモリアドレスを直接操作することはできません。これにより、ポインタ関連のバグやセキュリティ脆弱性を防ぐことができます。

強い型付けという特徴により、Javaはコンパイル時に多くのエラーを検出します。変数の型が明示的に宣言され、型の不一致はコンパイル時にエラーとなるため、実行時エラーを減らすことができます。これは大規模なチーム開発において、コードの品質と安全性を保つうえで重要な役割を果たします。

さらに、Javaの豊富なライブラリエコシステムは、開発効率を向上させます。標準ライブラリには、ファイル操作、ネットワーク通信、データベース接続、GUI開発など、現代のアプリケーション開発に必要な機能が網羅されています。また、MavenやGradleなどのビルドツールを通じて、世界中の開発者が作成したサードパーティライブラリを簡単に利用できる環境が整っています。

## 開発環境の準備

Javaプログラミングを始めるには、まず開発環境を整える必要です。C言語では主にコンパイラとテキストエディタがあれば開発を始められましたが、現代のJava開発では、より統合された開発環境を使用することが一般的です。

本書では、JDK（Java Development Kit）として、OpenJDK 21（LTS版）を使用します。
OpenJDKはオープンソース版のJava開発キットで、Oracle、Microsoft、Amazon、Red Hatなど複数のベンダーから提供されます。JDKにはJavaコンパイラ（javac）、Java仮想マシン（JVM）、標準ライブラリ、開発に必要な各種ツールが含まれており、Javaプログラムの開発と実行に必要なすべてがそろっています。

開発効率を向上させるため、IDE（統合開発環境）としてIntelliJ IDEA Community Editionを使用します。IDEは単なるテキストエディタではなく、コード補完、リファクタリング支援、デバッガ、ビルドツール統合など、現代的なソフトウェア開発に必要な機能が統合されたパワフルな開発環境です。とくにIntelliJ IDEAは、Javaに特化した高度な支援機能により、初学者でもスムーズにコードを書くことができます。


開発環境の構築手順は、時期によって頻繁に変わる可能性があるため、下記リンク先を参照してください。<br>
`https://github.com/Nagatani/techbook-java-primer/tree/main/appendix/a-environment-setup/`


## 最初のJavaプログラム

開発環境の準備ができたら、さっそく最初のJavaプログラムを作成してみましょう。

### Hello Worldプログラム

以下は、画面に「Hello, World!!」と表示するもっとも基本的なJavaプログラムです。

<span class="listing-number">**サンプルコード1-3**</span>

```java
public class HelloWorld {
    public static void main(String[] args) {
        System.out.println("Hello, World!!");
    }
}
```

#### 実行結果
```
Hello, World!!
```

このプログラムは、わずか5行ですが、Javaプログラミングの基本的な要素がすべて含まれています。まず `public class HelloWorld` は、HelloWorldという名前のクラスを宣言しています。Javaでは、すべてのコードはクラスのなかに記述し、このクラス名はファイル名（HelloWorld.java）と一致させます。

プログラムの実行は `public static void main(String[] args)` から始まります。これはJavaプログラムのエントリポイント（開始点）となる特別なメソッドで、Javaランタイムはこのシグネチャ（署名）を持つメソッドを探して実行を開始します。C言語のmain関数と同じ役割を果たしますが、必ずクラスのなかに定義する必要がある点が異なります。

実際の処理を行っているのは `System.out.println("Hello, World!!")` です。これは標準出力（通常は画面）に文字列を出力し、最後に改行を加えるメソッドです。Systemクラスのoutフィールド（標準出力ストリーム）に対してprintlnメソッドを呼びだすという、オブジェクト指向的な記述方法になっています。


> コンパイルと実行の方法や、標準入力の扱い方については、 `https://github.com/Nagatani/techbook-java-primer/tree/main/appendix/a-environment-setup/` を参照してください。

## Javaプログラムの基本構文

ここまでのサンプルコードを見て、「なぜこのような書き方をするのか？」という疑問を持つ人もいるでしょう。章末の練習課題に取り組む前に、Javaプログラムの基本的な構文と文法要素を体系的に理解しておきましょう。

### クラスとmainメソッドの基本構造

Javaでは、すべてのコードは「クラス」という単位で記述します。クラスは、関連するデータとそれを操作する処理をまとめたものです。

<span class="listing-number">**サンプルコード1-4**</span>

```java
public class クラス名 {
    public static void main(String[] args) {
        // ここにプログラムの処理を書く
    }
}
```

##### 重要なルール

- クラス名とファイル名は一致させる必要がある
  - `HelloWorld.java`というファイルには`public class HelloWorld`を定義
- 大文字・小文字は区別される
  - `HelloWorld`と`helloworld`は異なるものとして扱われる
- 1つのJavaファイルには1つのpublicクラスのみ定義可能

#### mainメソッドの構成要素

```java
public static void main(String[] args)
```

この1行には、以下の重要な要素が含まれています。

| 要素 | 説明 |
|------|------|
| `public` | どこからでも呼び出し可能であることを示すアクセス修飾子 |
| `static` | オブジェクトを作らなくても呼び出せることを示すキーワード |
| `void` | この処理が値を返さないことを示す戻り値の型 |
| `main` | プログラムの開始点として認識される特別なメソッド名 |
| `String[] args` | コマンドライン引数を受け取るためのパラメータ |



<!-- 
================
チャンク 2/6 の終了
校正ステータス: [ ] 未完了 / [ ] 完了
================
-->
