# ç¬¬11ç«  ãƒ©ãƒ ãƒ€å¼ã¨é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹

## ç« æœ«æ¼”ç¿’

æœ¬ç« ã§å­¦ã‚“ã ãƒ©ãƒ ãƒ€å¼ã¨é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®æ¦‚å¿µã‚’æ´»ç”¨ã—ã¦ã€å®Ÿè·µçš„ãªç·´ç¿’èª²é¡Œã«å–ã‚Šçµ„ã¿ã¾ã—ã‚‡ã†ã€‚

### æ¼”ç¿’ã®ç›®æ¨™
- ãƒ©ãƒ ãƒ€å¼ã®åŸºæœ¬æ§‹æ–‡ã¨æ¦‚å¿µã®ç†è§£
- é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆFunctionã€Predicateã€Consumerç­‰ï¼‰ã®æ´»ç”¨
- ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã®ä½¿ã„æ–¹ï¼ˆ::æ¼”ç®—å­ï¼‰
- å¾“æ¥ã®åŒ¿åã‚¯ãƒ©ã‚¹ã‹ã‚‰ãƒ©ãƒ ãƒ€å¼ã¸ã®ç§»è¡Œ
- é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºæœ¬çš„ãªæ€è€ƒæ³•
- é–¢æ•°åˆæˆã¨ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†ã«ã‚ˆã‚‹å®£è¨€çš„ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®å®Ÿè·µ

### ğŸ“ èª²é¡Œã®å ´æ‰€
æ¼”ç¿’èª²é¡Œã¯ `exercises/chapter11/` ãƒ‡ã‚£ãƒ¬ã‚¯ãƒˆãƒªã«ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ï¼š

```
exercises/chapter11/
â”œâ”€â”€ basic/          # åŸºæœ¬èª²é¡Œï¼ˆå¿…é ˆï¼‰
â”‚   â”œâ”€â”€ README.md   # èª²é¡Œã®è©³ç´°èª¬æ˜
â”‚   â”œâ”€â”€ BasicLambda.java # èª²é¡Œ1: åŸºæœ¬çš„ãªãƒ©ãƒ ãƒ€å¼ã®æ´»ç”¨
â”‚   â”œâ”€â”€ BasicLambdaTest.java
â”‚   â”œâ”€â”€ FunctionalCalculator.java # èª²é¡Œ2: é–¢æ•°å‹é›»å“
â”‚   â”œâ”€â”€ FunctionalCalculatorTest.java
â”‚   â”œâ”€â”€ EventProcessor.java # èª²é¡Œ3: ã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ EventProcessorTest.java
â”‚   â”œâ”€â”€ ValidationSystem.java # èª²é¡Œ4: ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚·ã‚¹ãƒ†ãƒ 
â”‚   â”œâ”€â”€ ValidationSystemTest.java
â”‚   â”œâ”€â”€ PipelineProcessor.java # èª²é¡Œ5: ãƒ‡ãƒ¼ã‚¿ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³å‡¦ç†
â”‚   â””â”€â”€ PipelineProcessorTest.java
â”œâ”€â”€ advanced/       # ç™ºå±•èª²é¡Œï¼ˆæ¨å¥¨ï¼‰
â””â”€â”€ challenge/      # æŒ‘æˆ¦èª²é¡Œï¼ˆä¸Šç´šè€…å‘ã‘ï¼‰
```

### æ¨å¥¨ã™ã‚‹å­¦ç¿’ã®é€²ã‚æ–¹

1. **åŸºæœ¬èª²é¡Œ**ã‹ã‚‰é †ç•ªã«å–ã‚Šçµ„ã‚€
2. å„èª²é¡Œã®README.mdã§è©³ç´°ã‚’ç¢ºèª
3. ToDoã‚³ãƒ¡ãƒ³ãƒˆã‚’å‚è€ƒã«å®Ÿè£…
4. ãƒ©ãƒ ãƒ€å¼ã¨å¾“æ¥ã®åŒ¿åã‚¯ãƒ©ã‚¹ã®é•ã„ã‚’ç†è§£ã™ã‚‹
5. é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ä½¿ã„åˆ†ã‘ã‚’ç¿’å¾—ã™ã‚‹

åŸºæœ¬èª²é¡ŒãŒå®Œäº†ã—ãŸã‚‰ã€`advanced/`ã®ç™ºå±•èª²é¡Œã§ã‚ˆã‚Šè¤‡é›‘ãªé–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã«æŒ‘æˆ¦ã—ã¦ã¿ã¾ã—ã‚‡ã†ï¼

## æœ¬ç« ã®å­¦ç¿’ç›®æ¨™

### å‰æçŸ¥è­˜
**å¿…é ˆå‰æ**ï¼š
- ç¬¬9ç« ã¾ã§ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã¨ã‚¸ã‚§ãƒãƒªã‚¯ã‚¹ã®ç¿’å¾—
- ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã¨åŒ¿åã‚¯ãƒ©ã‚¹ã®å®Ÿè£…çµŒé¨“
- ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³ãƒ•ãƒ¬ãƒ¼ãƒ ãƒ¯ãƒ¼ã‚¯ã®å®Ÿè·µçš„ãªä½¿ç”¨çµŒé¨“

**æ¦‚å¿µçš„å‰æ**ï¼š
- é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºæœ¬æ¦‚å¿µã¸ã®é–¢å¿ƒ
- ã‚³ãƒ¼ãƒ‰ã®ç°¡æ½”æ€§ã¨å¯èª­æ€§ã¸ã®æ„è­˜

### å­¦ç¿’ç›®æ¨™
**çŸ¥è­˜ç†è§£ç›®æ¨™**ï¼š
- é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã®åŸºæœ¬æ¦‚å¿µ
- ãƒ©ãƒ ãƒ€å¼ã®æ–‡æ³•ã¨æ„å‘³è«–
- é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆFunctionã€Predicateã€Consumerã€Supplierç­‰ï¼‰ã®ç†è§£
- ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã®æ¦‚å¿µã¨ä½¿ç”¨æ³•

**æŠ€èƒ½ç¿’å¾—ç›®æ¨™**ï¼š
- ãƒ©ãƒ ãƒ€å¼ã‚’ä½¿ã£ãŸç°¡æ½”ãªã‚³ãƒ¼ãƒ‰å®Ÿè£…
- æ¨™æº–é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®åŠ¹æœçš„ãªæ´»ç”¨
- ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ã«ã‚ˆã‚‹å¯èª­æ€§ã®å‘ä¸Š
- å¾“æ¥ã®åŒ¿åã‚¯ãƒ©ã‚¹ã‹ã‚‰ãƒ©ãƒ ãƒ€å¼ã¸ã®ç§»è¡Œ

**ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«ç›®æ¨™**ï¼š
- å®£è¨€çš„ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã‚¹ã‚¿ã‚¤ãƒ«ã®ç¿’å¾—
- é–¢æ•°ã®åˆæˆã‚’ä½¿ã£ãŸæŸ”è»Ÿãªãƒ—ãƒ­ã‚°ãƒ©ãƒ è¨­è¨ˆ
- å‰¯ä½œç”¨ã®å°‘ãªã„é–¢æ•°å‹ã‚¹ã‚¿ã‚¤ãƒ«ã®å®Ÿè·µ

**åˆ°é”ãƒ¬ãƒ™ãƒ«ã®æŒ‡æ¨™**ï¼š
- ãƒ©ãƒ ãƒ€å¼ã¨é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’é©åˆ‡ã«ä½¿ã„åˆ†ã‘ã§ãã‚‹
- è¤‡é›‘ãªå‡¦ç†ã‚’ãƒ©ãƒ ãƒ€å¼ã®çµ„ã¿åˆã‚ã›ã§è¡¨ç¾ã§ãã‚‹
- é–¢æ•°å‹ã‚¹ã‚¿ã‚¤ãƒ«ã§å¯èª­æ€§ã®é«˜ã„ã‚³ãƒ¼ãƒ‰ãŒæ›¸ã‘ã‚‹
- ã‚«ã‚¹ã‚¿ãƒ é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ãŒè¨­è¨ˆãƒ»å®Ÿè£…ã§ãã‚‹

---

## 11.1 åŒ¿åã‚¯ãƒ©ã‚¹ã‹ã‚‰ãƒ©ãƒ ãƒ€å¼ã¸

Java 8ã§ãƒ©ãƒ ãƒ€å¼ãŒå°å…¥ã•ã‚Œã‚‹å‰ã€ãã®å ´é™ã‚Šã®ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹å®Ÿè£…ã‚’æä¾›ã™ã‚‹ãŸã‚ã«ã¯**åŒ¿åã‚¯ãƒ©ã‚¹ï¼ˆAnonymous Classï¼‰**ãŒä½¿ã‚ã‚Œã¦ã„ã¾ã—ãŸã€‚ã“ã‚Œã¯åå‰ã‚’æŒãŸãªã„ã‚¯ãƒ©ã‚¹ã§ã€ç‰¹ã«GUIã®ã‚¤ãƒ™ãƒ³ãƒˆãƒªã‚¹ãƒŠãªã©ã§å¤šç”¨ã•ã‚Œã¦ã„ã¾ã—ãŸã€‚

```java
// åŒ¿åã‚¯ãƒ©ã‚¹ã‚’ä½¿ã£ãŸãƒœã‚¿ãƒ³ã®ã‚¯ãƒªãƒƒã‚¯å‡¦ç†
button.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
        System.out.println("ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼");
    }
});
```
ã“ã®ã‚³ãƒ¼ãƒ‰ã¯ã€`actionPerformed`ã¨ã„ã†1ã¤ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å®Ÿè£…ã™ã‚‹ãŸã‚ã ã‘ã«ã€`new ActionListener() { ... }`ã¨ã„ã†å®šå‹çš„ãªè¨˜è¿°ãŒå¤šãã€å†—é•·ã§ã—ãŸã€‚

**ãƒ©ãƒ ãƒ€å¼**ã¯ã€ã“ã®åŒ¿åã‚¯ãƒ©ã‚¹ã®è¨˜è¿°ã‚’ã€æœ¬è³ªçš„ãªå‡¦ç†ã ã‘ã‚’æŠœãå‡ºã—ã¦åŠ‡çš„ã«ç°¡æ½”ã«ã™ã‚‹ãŸã‚ã«å°å…¥ã•ã‚Œã¾ã—ãŸã€‚

## Deep Dive: é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã®æ­´å²

> **å¯¾è±¡èª­è€…**: ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãƒ‘ãƒ©ãƒ€ã‚¤ãƒ ã®ç™ºå±•ã«èˆˆå‘³ãŒã‚ã‚‹èª­è€…å‘ã‘  
> **å‰æçŸ¥è­˜**: æ‰‹ç¶šãå‹ãƒ»ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºæœ¬ç†è§£  
> **å­¦ç¿’æ™‚é–“**: ç´„18åˆ†

### æ•°å­¦çš„åŸºç›¤ï¼šãƒ©ãƒ ãƒ€è¨ˆç®—

é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®ç†è«–çš„åŸºç›¤ã¯ã€1930å¹´ä»£ã«ã‚¢ãƒ­ãƒ³ã‚¾ãƒ»ãƒãƒ£ãƒ¼ãƒãŒé–‹ç™ºã—ãŸ**ãƒ©ãƒ ãƒ€è¨ˆç®—ï¼ˆLambda Calculusï¼‰**ã«ã‚ã‚Šã¾ã™ã€‚ã“ã‚Œã¯ã€é–¢æ•°ã®å®šç¾©ã¨é©ç”¨ã ã‘ã§è¨ˆç®—ã‚’è¡¨ç¾ã™ã‚‹æ•°å­¦çš„ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

```
// ãƒ©ãƒ ãƒ€è¨ˆç®—ã®è¨˜æ³•ä¾‹
Î»x.x        // æ’ç­‰é–¢æ•°ï¼ˆå…¥åŠ›ã‚’ãã®ã¾ã¾è¿”ã™ï¼‰
Î»x.Î»y.x+y   // 2å¼•æ•°ã®åŠ ç®—é–¢æ•°
```

ã“ã®ã‚·ãƒ³ãƒ—ãƒ«ãªè¨˜æ³•ãŒã€ç¾ä»£ã®ãƒ©ãƒ ãƒ€å¼ã®æºæµã¨ãªã£ã¦ã„ã¾ã™ã€‚

### é–¢æ•°å‹è¨€èªã®ç³»è­œ

**LISPï¼ˆ1958å¹´ï¼‰**
John McCarthyã«ã‚ˆã£ã¦é–‹ç™ºã•ã‚ŒãŸæœ€åˆã®é–¢æ•°å‹è¨€èªï¼š
```lisp
(lambda (x) (+ x 1))  ; xã«1ã‚’åŠ ãˆã‚‹é–¢æ•°
```

**MLï¼ˆ1973å¹´ï¼‰ãƒ»Haskellï¼ˆ1990å¹´ï¼‰**
ã‚ˆã‚Šç´”ç²‹ãªé–¢æ•°å‹è¨€èªã¨ã—ã¦ç™ºå±•ï¼š
```haskell
-- Haskellã®ä¾‹
add1 = \x -> x + 1
map add1 [1,2,3]  -- [2,3,4]
```

### ãƒãƒ«ãƒãƒ‘ãƒ©ãƒ€ã‚¤ãƒ è¨€èªã¸ã®çµ±åˆ

**JavaScriptï¼ˆES6, 2015å¹´ï¼‰**
```javascript
// ã‚¢ãƒ­ãƒ¼é–¢æ•°
const add = (x, y) => x + y;
[1,2,3].map(x => x * 2);
```

**Java 8ï¼ˆ2014å¹´ï¼‰**
```java
// ãƒ©ãƒ ãƒ€å¼
Function<Integer, Integer> add1 = x -> x + 1;
Arrays.asList(1,2,3).stream().map(x -> x * 2);
```

### ãªãœé–¢æ•°å‹ãŒã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘è¨€èªã«ï¼Ÿ

1. **ä¸¦è¡Œå‡¦ç†ã®é‡è¦æ€§**: ä¸å¤‰æ€§ã¨å‰¯ä½œç”¨ã®æ’é™¤ã«ã‚ˆã‚Šã€ãƒãƒ«ãƒã‚¹ãƒ¬ãƒƒãƒ‰å‡¦ç†ãŒå®‰å…¨ã«ãªã‚‹
2. **ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿å‡¦ç†**: MapReduceãƒ‘ã‚¿ãƒ¼ãƒ³ãªã©ã€å¤§è¦æ¨¡ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã«é©ã—ã¦ã„ã‚‹
3. **ã‚³ãƒ¼ãƒ‰ã®ç°¡æ½”æ€§**: å®£è¨€çš„ãªè¨˜è¿°ã«ã‚ˆã‚Šã€å¯èª­æ€§ã¨ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹æ€§ãŒå‘ä¸Š
4. **æ•°å­¦çš„å³å¯†æ€§**: é–¢æ•°åˆæˆã«ã‚ˆã‚Šã€è¤‡é›‘ãªå‡¦ç†ã‚’ç†è§£ã—ã‚„ã™ã„å½¢ã§è¡¨ç¾

### ãƒ¢ãƒŠãƒ‰ã¨ãƒ•ã‚¡ãƒ³ã‚¯ã‚¿ãƒ¼

é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é«˜åº¦ãªæ¦‚å¿µï¼š

```java
// Optionalã¯ãƒ¢ãƒŠãƒ‰ã®Javaå®Ÿè£…
Optional.of("hello")
    .map(String::toUpperCase)      // ãƒ•ã‚¡ãƒ³ã‚¯ã‚¿ãƒ¼çš„æ“ä½œ
    .flatMap(s -> getValue(s))     // ãƒ¢ãƒŠãƒ‰çš„æ“ä½œ
    .orElse("default");
```

### ç¾ä»£çš„ãªæ„ç¾©

é–¢æ•°å‹ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã¯ã€ä»¥ä¸‹ã®ç¾ä»£çš„èª²é¡Œã®è§£æ±ºç­–ã¨ã—ã¦å†è©•ä¾¡ã•ã‚Œã¦ã„ã¾ã™ï¼š

- **ä¸¦è¡Œãƒ»ä¸¦åˆ—å‡¦ç†**: ä¸å¤‰ãƒ‡ãƒ¼ã‚¿æ§‹é€ ã«ã‚ˆã‚‹å®‰å…¨ãªä¸¦åˆ—å®Ÿè¡Œ
- **ãƒ“ãƒƒã‚°ãƒ‡ãƒ¼ã‚¿**: Stream APIã«ã‚ˆã‚‹åŠ¹ç‡çš„ãªãƒ‡ãƒ¼ã‚¿å‡¦ç†ãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³
- **ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°**: éåŒæœŸã‚¤ãƒ™ãƒ³ãƒˆå‡¦ç†
- **ãƒ‰ãƒ¡ã‚¤ãƒ³é§†å‹•è¨­è¨ˆ**: é–¢æ•°åˆæˆã«ã‚ˆã‚‹è¤‡é›‘ãªãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®è¡¨ç¾

### å‚è€ƒæ–‡çŒ®ãƒ»é–¢é€£è³‡æ–™
- "Structure and Interpretation of Computer Programs" - Abelson & Sussman
- "Functional Programming in Java" - Venkat Subramaniam
- "Java 8 in Action" - Raoul-Gabriel Urma

```java
// ãƒ©ãƒ ãƒ€å¼ã‚’ä½¿ã£ãŸå ´åˆ
button.addActionListener(e -> System.out.println("ãƒœã‚¿ãƒ³ãŒã‚¯ãƒªãƒƒã‚¯ã•ã‚Œã¾ã—ãŸï¼"));
```

## 11.2 é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹

ãƒ©ãƒ ãƒ€å¼ã¯ã€ã©ã®ã‚ˆã†ãªå ´æ‰€ã§ã‚‚æ›¸ã‘ã‚‹ã‚ã‘ã§ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ©ãƒ ãƒ€å¼ã¯ã€**é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆFunctional Interfaceï¼‰** ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚

**é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹**ã¨ã¯ã€**å®Ÿè£…ã™ã¹ãæŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ãŒ1ã¤ã ã‘**å®šç¾©ã•ã‚Œã¦ã„ã‚‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã®ã“ã¨ã§ã™ã€‚`@FunctionalInterface` ã‚¢ãƒãƒ†ãƒ¼ã‚·ãƒ§ãƒ³ã‚’ä»˜ã‘ã‚‹ã¨ã€ã‚³ãƒ³ãƒ‘ã‚¤ãƒ©ãŒæŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ãŒ1ã¤ã ã‘ã‹ã©ã†ã‹ã‚’ãƒã‚§ãƒƒã‚¯ã—ã¦ãã‚Œã‚‹ãŸã‚ã€ä»˜ã‘ã‚‹ã“ã¨ãŒæ¨å¥¨ã•ã‚Œã¾ã™ã€‚

`ActionListener`ã‚„å‰ç« ã®`Comparator`ã‚‚ã€å®Ÿè£…ã™ã¹ãæŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ãŒå®Ÿè³ªçš„ã«1ã¤ã ã‘ã§ã™ã®ã§ã€é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã§ã™ã€‚ãã®ãŸã‚ã€ãƒ©ãƒ ãƒ€å¼ã§ç½®ãæ›ãˆã‚‹ã“ã¨ãŒã§ããŸã®ã§ã™ã€‚

```java
@FunctionalInterface
interface MyFunction {
    int calculate(int x, int y);
}

public class Main {
    public static void main(String[] args) {
        // ãƒ©ãƒ ãƒ€å¼ã‚’é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹å‹ã®å¤‰æ•°ã«ä»£å…¥
        MyFunction addition = (a, b) -> a + b;
        MyFunction subtraction = (a, b) -> a - b;

        System.out.println("è¶³ã—ç®—: " + addition.calculate(10, 5)); // 15
        System.out.println("å¼•ãç®—: " + subtraction.calculate(10, 5)); // 5
    }
}
```

### ãƒ©ãƒ ãƒ€å¼ã®æ§‹æ–‡ãƒãƒªã‚¨ãƒ¼ã‚·ãƒ§ãƒ³

ãƒ©ãƒ ãƒ€å¼ã¯ã€çŠ¶æ³ã«å¿œã˜ã¦è¨˜è¿°ã‚’ã•ã‚‰ã«ç°¡ç•¥åŒ–ã§ãã¾ã™ã€‚

-   **å¼•æ•°ã®å‹ã®çœç•¥**: `(int a, int b) -> ...` ã¯ `(a, b) -> ...` ã¨æ›¸ã‘ã¾ã™ã€‚
-   **å¼•æ•°ãŒ1ã¤ã®å ´åˆã€æ‹¬å¼§ã®çœç•¥**: `(a) -> ...` ã¯ `a -> ...` ã¨æ›¸ã‘ã¾ã™ã€‚
-   **å‡¦ç†ãŒ1è¡Œã®å ´åˆã€ä¸­æ‹¬å¼§ã®çœç•¥**: `a -> { return a * 2; }` ã¯ `a -> a * 2` ã¨æ›¸ã‘ã¾ã™ã€‚
-   **å¼•æ•°ãŒãªã„å ´åˆ**: `() -> System.out.println("Hello");` ã®ã‚ˆã†ã«æ‹¬å¼§ã ã‘ã‚’æ›¸ãã¾ã™ã€‚

### `java.util.function` ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸

Javaã«ã¯ã€`java.util.function`ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã«ã€ã‚ˆãä½¿ã‚ã‚Œã‚‹æ±ç”¨çš„ãªé–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ãŒå¤šæ•°ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚ã“ã‚Œã‚‰ã‚’æ´»ç”¨ã™ã‚‹ã“ã¨ã§ã€è‡ªåˆ†ã§ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã‚’å®šç¾©ã™ã‚‹æ‰‹é–“ã‚’çœã‘ã¾ã™ã€‚

| ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ | æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ | èª¬æ˜ |
| :--- | :--- | :--- |
| `Predicate<T>` | `boolean test(T t)` | Tå‹ã‚’å—ã‘å–ã‚Šã€`boolean`å€¤ã‚’è¿”ã™ï¼ˆåˆ¤å®šï¼‰ |
| `Function<T, R>` | `R apply(T t)` | Tå‹ã‚’å—ã‘å–ã‚Šã€Rå‹ã‚’è¿”ã™ï¼ˆå¤‰æ›ï¼‰ |
| `Consumer<T>` | `void accept(T t)` | Tå‹ã‚’å—ã‘å–ã‚Šã€ä½•ã‚‚è¿”ã•ãªã„ï¼ˆæ¶ˆè²»ï¼‰ |
| `Supplier<T>` | `T get()` | ä½•ã‚‚å—ã‘å–ã‚‰ãšã€Tå‹ã‚’è¿”ã™ï¼ˆä¾›çµ¦ï¼‰ |
| `UnaryOperator<T>` | `T apply(T t)` | Tå‹ã‚’å—ã‘å–ã‚Šã€åŒã˜Tå‹ã‚’è¿”ã™ï¼ˆå˜é …æ¼”ç®—ï¼‰ |
| `BinaryOperator<T>` | `T apply(T t1, T t2)` | åŒã˜Tå‹ã‚’2ã¤å—ã‘å–ã‚Šã€åŒã˜Tå‹ã‚’è¿”ã™ï¼ˆäºŒé …æ¼”ç®—ï¼‰ |

```java
import java.util.function.*;

public class StandardFunctionalInterfaces {
    public static void main(String[] args) {
        // Predicate: æ–‡å­—åˆ—ãŒç©ºã‹ã©ã†ã‹ã‚’åˆ¤å®š
        Predicate<String> isEmpty = s -> s.isEmpty();
        System.out.println("''ã¯ç©ºï¼Ÿ: " + isEmpty.test("")); // true

        // Function: æ–‡å­—åˆ—ã‚’é•·ã•ã«å¤‰æ›
        Function<String, Integer> getLength = s -> s.length();
        System.out.println("'Java'ã®é•·ã•: " + getLength.apply("Java")); // 4

        // Consumer: æ–‡å­—åˆ—ã‚’å¤§æ–‡å­—ã§å‡ºåŠ›
        Consumer<String> printUpper = s -> System.out.println(s.toUpperCase());
        printUpper.accept("hello"); // HELLO

        // Supplier: ç¾åœ¨æ™‚åˆ»ã‚’ä¾›çµ¦
        Supplier<Long> currentTime = () -> System.currentTimeMillis();
        System.out.println("ç¾åœ¨æ™‚åˆ»: " + currentTime.get());
    }
}
```

## 11.3 ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§

ãƒ©ãƒ ãƒ€å¼ãŒæ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³ã ã™ã ã‘ã®å ´åˆã€**ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§ï¼ˆMethod Referenceï¼‰**ã¨ã„ã†ã€ã•ã‚‰ã«ç°¡æ½”ãªè¨˜æ³•ãŒä½¿ãˆã¾ã™ã€‚`ã‚¯ãƒ©ã‚¹å::ãƒ¡ã‚½ãƒƒãƒ‰å`ã‚„`ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°::ãƒ¡ã‚½ãƒƒãƒ‰å`ã®ã‚ˆã†ã«è¨˜è¿°ã—ã¾ã™ã€‚

| ç¨®é¡ | æ§‹æ–‡ | ãƒ©ãƒ ãƒ€å¼ã®ä¾‹ |
| :--- | :--- | :--- |
| **é™çš„ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§** | `ã‚¯ãƒ©ã‚¹å::é™çš„ãƒ¡ã‚½ãƒƒãƒ‰å` | `s -> Integer.parseInt(s)` |
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§**<br>(ç‰¹å®šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹) | `ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹å¤‰æ•°::ãƒ¡ã‚½ãƒƒãƒ‰å` | `s -> System.out.println(s)` |
| **ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§**<br>(ä¸ç‰¹å®šã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹) | `ã‚¯ãƒ©ã‚¹å::ãƒ¡ã‚½ãƒƒãƒ‰å` | `s -> s.toUpperCase()` |
| **ã‚³ãƒ³ã‚¹ãƒˆãƒ©ã‚¯ã‚¿å‚ç…§** | `ã‚¯ãƒ©ã‚¹å::new` | `() -> new ArrayList<>()` |

```java
import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;
import java.util.function.Consumer;
import java.util.function.Function;
import java.util.function.Supplier;

public class MethodReferenceExample {
    public static void main(String[] args) {
        List<String> words = Arrays.asList("apple", "banana", "cherry");

        // ãƒ©ãƒ ãƒ€: s -> System.out.println(s)
        // ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§: System.out::println
        words.forEach(System.out::println);

        // ãƒ©ãƒ ãƒ€: s -> s.toUpperCase()
        // ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§: String::toUpperCase
        words.stream()
             .map(String::toUpperCase)
             .forEach(System.out::println);

        // ãƒ©ãƒ ãƒ€: () -> new ArrayList<>()
        // ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§: ArrayList::new
        Supplier<List<String>> listFactory = ArrayList::new;
        List<String> newList = listFactory.get();
        System.out.println("æ–°ã—ã„ãƒªã‚¹ãƒˆ: " + newList);
    }
}
```

## 11.4 ãƒ©ãƒ ãƒ€å¼ã®å¿œç”¨ä¾‹

ãƒ©ãƒ ãƒ€å¼ã¯ã‚³ãƒ¬ã‚¯ã‚·ãƒ§ãƒ³æ“ä½œã ã‘ã§ãªãã€Javaãƒ—ãƒ­ã‚°ãƒ©ãƒ ã®ã•ã¾ã–ã¾ãªå ´é¢ã§ã‚³ãƒ¼ãƒ‰ã‚’ç°¡æ½”ã«ã—ã¾ã™ã€‚

### ã‚¹ãƒ¬ãƒƒãƒ‰ã®ç”Ÿæˆã¨å®Ÿè¡Œ

`Runnable`ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼ˆ`run`ãƒ¡ã‚½ãƒƒãƒ‰ã‚’æŒã¤é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ï¼‰ã‚‚ãƒ©ãƒ ãƒ€å¼ã§ç°¡å˜ã«å®Ÿè£…ã§ãã¾ã™ã€‚

```java
public class ThreadLambdaExample {
    public static void main(String[] args) {
        // åŒ¿åã‚¯ãƒ©ã‚¹ã§ã®Runnable
        Thread t1 = new Thread(new Runnable() {
            public void run() {
                System.out.println("Thread t1 (Anonymous) is running...");
            }
        });
        t1.start();

        // ãƒ©ãƒ ãƒ€å¼ã§ã®Runnable
        Thread t2 = new Thread(() -> System.out.println("Thread t2 (Lambda) is running..."));
        t2.start();
    }
}
```

## ã¾ã¨ã‚

æœ¬ç« ã§ã¯ã€ãƒ¢ãƒ€ãƒ³Javaãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®åŸºç¤ã¨ãªã‚‹ãƒ©ãƒ ãƒ€å¼ã¨é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ã«ã¤ã„ã¦å­¦ã³ã¾ã—ãŸã€‚

-   **ãƒ©ãƒ ãƒ€å¼**ã¯ã€åŒ¿åé–¢æ•°ã‚’ç°¡æ½”ã«è¨˜è¿°ã™ã‚‹ãŸã‚ã®æ§‹æ–‡ã§ã€å†—é•·ãªåŒ¿åã‚¯ãƒ©ã‚¹ã‚’ç½®ãæ›ãˆã¾ã™ã€‚
-   ãƒ©ãƒ ãƒ€å¼ã¯ã€**æŠ½è±¡ãƒ¡ã‚½ãƒƒãƒ‰ãŒ1ã¤ã ã‘ã®é–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹**ã¨ã—ã¦æ‰±ã‚ã‚Œã¾ã™ã€‚
-   `Predicate`, `Function`, `Consumer`, `Supplier`ãªã©ã€æ±ç”¨çš„ãªé–¢æ•°å‹ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ã‚¤ã‚¹ãŒæ¨™æº–ã§ç”¨æ„ã•ã‚Œã¦ã„ã¾ã™ã€‚
-   **ãƒ¡ã‚½ãƒƒãƒ‰å‚ç…§**ã‚’ä½¿ã†ã¨ã€æ—¢å­˜ã®ãƒ¡ã‚½ãƒƒãƒ‰ã‚’å‘¼ã³ã ã™ã ã‘ã®ãƒ©ãƒ ãƒ€å¼ã‚’ã•ã‚‰ã«ç°¡æ½”ã«æ›¸ã‘ã¾ã™ã€‚

ã“ã‚Œã‚‰ã®æ©Ÿèƒ½ã‚’ä½¿ã„ã“ãªã™ã“ã¨ã§ã€ã‚³ãƒ¼ãƒ‰ã®å¯èª­æ€§ãŒå‘ä¸Šã—ã€ã‚ˆã‚Šå®£è¨€çš„ã§ç°¡æ½”ãªãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚