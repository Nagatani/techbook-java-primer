# 第3章 オブジェクト指向の考え方 - Part A: 導入

## 始めに：なぜオブジェクト指向が必要なのか

前章では、Javaの歴史的背景と特徴について学習しました。本章では、Javaの核心となる「オブジェクト指向プログラミング」について学習します。

### ソフトウェア開発の課題

1960年代後半、ソフトウェアの規模が急速に拡大し、「ソフトウェアクライシス」と呼ばれる問題が発生しました。プロジェクトの遅延、品質の低下、保守の困難さなど、従来の開発手法では対処できない課題が山積していました。

**ソフトウェアクライシスの具体例：**

1. **IBMのOS/360プロジェクト（1960年代）**
   - 予算：5千万ドル → 実際：5億ドル（10倍の超過）
   - 開発期間：大幅な遅延
   - フレデリック・ブルックスが「人月の神話」で詳述
   - 教訓：人員を増やしても開発速度は比例しない

2. **アポロ計画のソフトウェア（1960年代）**
   - 40万行のコードに1000人以上のプログラマ
   - 手作業でのコード管理による混乱
   - マーガレット・ハミルトンによる「ソフトウェア工学」の提唱

3. **SABRE航空予約システム（1960年代）**
   - 史上初の大規模リアルタイムシステム
   - 従来の手法では複雑性を管理できず
   - 新しい開発手法の必要性を実証

構造化プログラミングがこれらの問題への最初の回答でしたが、データと処理が分離されているため、大規模システムでは変更の影響範囲の把握が困難で、コードの再利用性も低いという限界がありました。

**構造化プログラミングの限界を示す例：**
```c
// 銀行システムの例（C言語）
struct Account {
    int id;
    double balance;
    char name[50];
};

void deposit(struct Account* acc, double amount) {
    acc->balance += amount;
}

void withdraw(struct Account* acc, double amount) {
    if (acc->balance >= amount) {
        acc->balance -= amount;
    }
}

// 問題点：
// 1. データ構造変更時、全関数の修正が必要
// 2. 誤った操作（直接balance変更）を防げない
// 3. 新しい口座タイプ（定期預金など）の追加が困難
```

### オブジェクト指向という解決策

オブジェクト指向は、これらの問題を解決するために生まれた革新的なパラダイムです。その最も重要な特徴は、**現実世界のモデリング**というアプローチです。プログラムを「オブジェクト」の集合として構成し、各オブジェクトが状態（データ）と振る舞い（メソッド）を一体化して持つことで、現実の問題領域を直接的にコードで表現できるようになりました。

この基本概念を支えるのが**カプセル化**です。オブジェクトの内部実装を隠蔽し、明確なインターフェイスのみを公開することで、実装の詳細を知らなくてもオブジェクトを安全に利用できます。これにより、変更の影響範囲を局所化し、システム全体の保守性を大幅に向上させることができました。

さらに、**継承**メカニズムにより、共通の特性を持つオブジェクトを階層的に組織化し、コードの再利用性を高めることが可能になりました。そして**ポリモーフィズム**は、同じインターフェイスを通じて異なる実装を扱える柔軟性を提供し、システムの拡張性を大きく向上させました。

これらの概念が統合されることで、大規模で複雑なソフトウェアであっても、理解しやすく保守しやすい構造を維持できるようになりました。

## オブジェクト指向パラダイムの歴史的意義

オブジェクト指向の革新性は、データと処理を一体化することで根本的な解決を提供したことにあります。構造化プログラミングではデータ構造の変更がすべての関数に影響しましたが、オブジェクト指向では変更の影響を局所化できるようになりました。

このパラダイムシフトは、現代のデザインパターン、フレームワーク、マイクロサービス、ドメイン駆動設計などの基盤となっています。

**オブジェクト指向の詳細な歴史と実装パターンについては、付録B.03「プログラミングパラダイムの進化」を参照してください。**

## 2.1 オブジェクト指向とは

オブジェクト指向という言葉は、実は多様な意味を持っています。ソフトウェア開発のさまざまな工程で、オブジェクト指向の考え方が適用されているからです。

まず、システム設計の段階では、**オブジェクト指向設計（OOD: Object-Oriented Design）**が用いられます。これは、システムをオブジェクトの集合として設計し、それらの関係性を定義する手法です。同様に、要求分析の段階では**オブジェクト指向分析（OOA: Object-Oriented Analysis）**が、問題領域をオブジェクトの観点から分析します。これらは総称して**オブジェクト指向分析設計（OOAD: Object-Oriented Analysis and Design）**と呼ばれます。

しかし、本書が焦点を当てるのは**オブジェクト指向プログラミング（OOP: Object-Oriented Programming）**です。これは、設計されたオブジェクトを実際にプログラミング言語で実装する技術です。Javaは、OOPを実践するために設計された言語であり、クラス、継承、ポリモーフィズムなどのOOPの主要概念を言語レベルでサポートしています。

さらに幅広い視点では、開発方法論やプロジェクト管理手法としてのオブジェクト指向、そしてプログラミング言語仕様としてのオブジェクト指向も存在しますが、これらは本書の範囲を超える内容です。

## 2.2 オブジェクト指向を学ぶ必要性

現代において「専門的にオブジェクト指向について学ぶこと」自体は、実はそれほど重要でありません。では本書で取り扱うものは何なのか、ということになります。

皆さんは一年次にC言語を講義で学びました。
C言語でのプログラミングでも、構造的なプログラミングや、関数ライブラリを使った柔軟な開発は可能です。
極論を言ってしまえば、新たな道具としてオブジェクト指向を学ばなくても、たいていのプログラムは作れます。

### より良く継続的な開発を行うために

C言語でも十分なプログラミングは可能ですが、現実のソフトウェア開発では、プログラムの作成は全体の一部にすぎません。作成されたプログラムは、その後長期にわたる「保守・運用」のフェーズに入り、この期間が実は開発期間よりもはるかに長く、コストも大きくなることが一般的です。

このような現実を踏まえると、プログラミング言語には単に動くプログラムを作ること以上の要求が突きつけられます。まず、**開発の効率化**が重要です。同じ機能を何度も実装するのではなく、既存のコードを再利用し、新たな機能をすばやく追加できる必要があります。

次に、**保守性の向上**が不可欠です。要求の変化やバグ修正の際に、変更箇所が明確で、変更の影響範囲が限定されていることが理想です。そして、**品質の向上**も欠かせません。バグが少なく、意図が明確で、拡張性の高いコードを書くことが、長期的な成功につながります。

これらの要求を満たすための強力なアプローチが、オブジェクト指向プログラミングなのです。

### 大規模で長期的に維持可能なプログラムを作る

C言語でも不可能ではありませんが「もっと効率良くしたい」という要望のために、オブジェクト指向という考え方が登場します。
より効率良くプログラミングを行うことを目的として、保守運用を見据えた概念であることをよく理解してオブジェクト指向を学んでください。

ただ、現代におけるプログラミングに求められるプログラミングの考え方には、オブジェクト指向以外も必要としています。
オブジェクト指向のその先もある、ということです。

---

次のパート：[Part B - オブジェクト指向の基本概念](chapter03b-oop-concepts.md)