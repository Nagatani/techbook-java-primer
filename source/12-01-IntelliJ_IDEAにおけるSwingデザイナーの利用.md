---
title: IntelliJ_IDEAにおけるSwingデザイナーの利用
---

>オブジェクト指向プログラミングおよび演習1 第12回  
>
>GUIオブジェクトの配置をコードで書くと面倒なので、GUIツール使いましょう

## Swing UI Designerプラグインのインストール

IntelliJ IDEAの「IntelliJ IDEAへようこそ」の画面か、設定画面のプラグインタブで下記画像を参考に「Swing UI Desginer」をインストールします。

![](SCR-20250703-cquh.png)

1. 「Marketplace」を選択
2. 検索のテキストボックスへ「Swing UI Designer」と入力
3. 候補に上がってきた「Swing UI Designer」をインストール
4. インストール完了後にIDEの再起動を求められるので指示に従う


## 試してみよう

### 1. プロジェクトの作成

プロジェクト名は何でもよいです。

### 2. 新規「GUIフォーム」

「Swing UI Designer」のインストールが終わっていれば、新規メニューの中に「Swing UIデザイナー」→「GUIフォーム」が追加されています。
（ダイアログの作成もできますが、割愛します。）

![](SCR-20250703-dazp.png)

### 3. フォームとクラスの生成

今回は適当に「`FormSample`」としてフォームとクラスを作成します。

デフォルトのレイアウトマネージャは、「`GridLayoutManager(InteliJ)`」のままで良いです。
フォーム作成後もレイアウトマネージャは変更可能です。

![](SCR-20250703-dhxo.png)

### 4. フォームデザイナの画面説明

「GUIフォーム」のデザイナ画面は以下のような構成になっています。

![](SCR-20250703-djmc.png)

左上から、簡単に解説します。

- 左上: コンポーネントツリー
    + フォームに配置したコンポーネントをツリーで一覧表示します。
    + どのコンポーネントがどれの配下になっているかをここで確認し、状況に応じて変更可能です。
- 左下: プロパティウィンドウ
    + 選択しているコンポーネントのプロパティが一覧表示されます。
    + 基本的にはそのコンポーネントの重要なプロパティのみ表示されますが、「高度なプロパティーを表示する」にチェックを入れると、コンポーネント共通のプロパティが表示されます。
    + ここで表示されているプロパティは、クラスのコード上で`getプロパティ名`、`setプロパティ名`のようなアクセサメソッドが用意されています。
- 中央: フォームデザイナ
    + コンポーネントの配置などをここで調整できます。
    + 画面サイズやコンポーネントの配置は実行時と異なることがあります。ここで表示されている様子はあくまでも配置の参考程度としてください。
- 左: コンポーネントパレット
    + 標準APIで提供されているJFrameに配置可能なコンポーネントが一覧表示されています。
    + ここでコンポーネントを選んでクリックし、フォームデザイナ上でクリックするとフォーム上にコンポーネントを配置できます。（ドラッグアンドドロップだと失敗することがあります。）
    + 自作のカスタムコンポーネントは、パレットのコンテキストメニューから「コンポーネントの追加」で行えます。
        * 別のプロジェクト等で作成したカスタムコンポーネントを差し込みたい場合は、プロジェクトをモジュールとして開くことで対応できる場合もあります。


### 5. 配置してみよう

以下の画像を参考に配置を行ってみましょう。

![](SCR-20250703-dram.png)

配置手順をまとめます。

1. 初期状態で設定済みのJPanelを選択し、`field name`に「panel1」を設定
2. パレットから、`JPanel`を選択してフォームの北（上部）に配置
3. 新たに配置したJPanelに、`JTextField`と`JButton`を配置
4. `JScrollPane`をフォームの残った領域に配置
5. `JTextArea`をJScrollPaneの中に配置

コンポーネントツリーを良く確認して、間違いないように配置しましょう。

### 6. クラスコードの修正

この時点でクラスは以下のように変更されています。

```java
import javax.swing.*;

public class FormSample {
    private JPanel panel1;
    private JTextField textField1;
    private JButton button1;
    private JTextArea textArea1;
}
```

#### 6-1. ライブラリのimportの修正

使用することが想定されているので先に修正しておきましょう。

```java
import java.awt.*;
import java.awt.event.*;
import javax.swing.*;
```

今回はIntelliJ IDEAの自動インポート機能を使わず、オンデマンドインポートにて使用するライブラリを指定します。

#### 6-2. メインクラスはJFrameを継承する

メインクラスである「FormSample」の宣言部を以下のようにします。

```java
public class FormSample extends JFrame {

    // ↓これらのオブジェクトはGUIフォームのデザイナで追加されたものです。
    //  これらは変更しません
    private JPanel panel1;
    private JTextField textField1;
    private JButton button1;
    private JTextArea textArea1;

}
```

ここで、上記のフィールドが自動的に追加されていない、もしくはフィールド名が異なる場合は、デザイナの設定を確認してください。

#### 6-3. メインメソッドでJFrameの実行スレッドをキューに追加する

以下のコードをFormSampleクラスのメインメソッドとして記述します。

```java
    /**
     * メインメソッド
     * @param args
     */
    public static void main(String[] args) {
        // イベントキューに画面の起動スレッドを追加
        EventQueue.invokeLater(() -> {
            new FormSample().setVisible(true);
        });
    }
```

#### 6-4. デフォルトコンストラクタを用意する

デフォルトコンストラクタにて、Swingの画面初期化コードを記述します。
そのためにデフォルトコンストラクタを用意しておきましょう。

ついでに画面全体の設定を追加しておきます。

```java
    public FormSample() {
        // ウィンドウを閉じたら終了させる
        setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
        // ウィンドウ起動位置とウィンドウサイズの指定
        setBounds(100, 100, 600, 400);

        // コンテンツパネル設定 ※IntelliJIDEAでのGUI作成では以下の設定が必須です。
        setContentPane(panel1);


    }
```

ここで、`setContentPane(panel1);`を呼び出していますが、これはSwingをコードで全部書いた場合には差し込まれなかったものです。

#### 6-5. ボタンをクリックした場合の処理を追加する

`FormSample.form`のデザイナを開き、`button1`を右クリックしてコンテキストメニューを開き、「リスナーの作成」を選択してください。

以下のようにボタンに設定できるイベントの一覧が出てきます。

![](SCR-20250703-dwin.png)

![](SCR-20250703-dwlw.png)


この中で、`ActionListener`の項目を選択すると、以下のようにActionListnerが持つメソッドの一覧が出るので、`actionPerformed`を選択します。
※`ActionListener`には、`actionPerformed`メソッドしか存在しませんが、他のListenerの場合、実装可能なメソッドが複数存在する場合もあります。

![](SCR-20250703-dxsk.png)


`public FormSample()`内に、以下のコードが差し込まれているはずです。(ラムダ記法に変換可能ですが、今回はこのままで行きましょう。)


```java
button1.addActionListener(new ActionListener() {
    @Override
    public void actionPerformed(ActionEvent e) {
    }
});
```

これを、以下のようにボタン押下時の処理として`actionPerformed`のメソッドの中身を書きます。

```java
// ボタン押下時の処理サンプル

if (textField1.getText().isEmpty()) {
    // 入力がない場合はフォーカスセットして処理しない
    textField1.requestFocus();  // テキストフィールドにフォーカスセット
    return;
}

// テキスト領域にテキストフィールドの文字を追加する
textArea1.append(textField1.getText());
textArea1.append(System.lineSeparator()); // 改行

textField1.setText("");     // テキストフィールドクリア
textField1.requestFocus();  // テキストフィールドにフォーカスセット
```

この処理は、テキストフィールドに入力されたテキストをボタン押下で下にあるテキストエリアへ追加します。

テキストの追加後、テキストフィールドは空文字にし、フォーカスを設定する処理も行っています。

#### 6-6. 実行確認

テキストフィールドに入力したテキストが、ボタン押下でテキストエリアに追記されることが確認できればOKです。


## デザイナを使うことのメリットデメリット

### メリット
1. 直感的な操作によりコンポーネントを配置可能
2. 作成中に配置やプロパティの値を確認しながら進められるためSwing開発に慣れていない人向き
3. formファイル（中身はXMLデータ）にコンポーネントの初期化のためのデータが記載されており、コンパイル時にそれらが展開されるため、コードとデザインを分離させて考えることができる

### デメリット
1. formファイルが壊れやすい
2. 使用するIEDが、InteliJ IDEAに絞られてしまう
    - Swingに関しては、他のIDEのデザイナで作られたものを別のIDEでは編集不可
3. LLMなどの生成AIによるコード生成には不向き
    - formファイルを作れる場合も考えられるが、現状formファイルを直接編集して反映させる方法はない


## 使いどころ

- Swingの画面デザインに慣れていない間に、どんなコンポーネントがあるかを知りたい場合
- 標準コンポーネントのプロパティと設定値を見てみたい場合
- レイアウトマネージャの挙動を確認したい場合
- 標準のイベントリスナーの確認をしたい場合

などなど考えられます。

デザイナあり・なしは、やりやすいほうで開発を進めてください。