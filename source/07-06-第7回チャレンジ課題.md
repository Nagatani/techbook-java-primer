---
title: 第7回課題
---

> オブジェクト指向プログラミングおよび演習1 第7回


## イミュータブルなジェネリック値オブジェクト `Value<T>` とユーティリティメソッドの実装

### 課題概要

任意の型の単一の値を保持する、イミュータブル（不変）なジェネリック値オブジェクト `Value<T>` を設計し、実装してください。
さらに、この `Value<T>` を操作したり生成したりするための静的なジェネリックユーティリティメソッドを持つ`ValueUtils`クラスを実装してください。

この課題を通じて、ジェネリッククラスの作成、不変性の概念とその重要性、値オブジェクトの設計原則、そして関連するユーティリティメソッドの作成について理解を深めることを目的とします。

使用するパッケージは、`oop1.challenge07`としてください。

### 要求仕様

#### 1. イミュータブルな `Value<T>` クラス

以下の特性と機能を持つ `final` な `Value<T>` クラスを作成してください。

* 値を保持するための `private final` なフィールド。
* 値を引数に取り、フィールドを初期化するコンストラクタ。このコンストラクタで一度値が設定されたら、その後変更することはできません。
* 保持している値を取得する `get()` メソッド。
* 保持している値が `null` かどうかを判定する `isNull()` メソッド。
* 保持している値の文字列表現に加えて、それが `Value` オブジェクトに格納されていることがわかるような `toString()` メソッドの実装（例: `Value[value: ACTUAL_VALUE_STRING]`）。
* `equals()` と `hashCode()` メソッドを適切にオーバーライドしてください。`Value` オブジェクト同士の比較は、保持している値に基づいて行います。
* （※注意）この課題では、型パラメータ `T` で指定されるオブジェクト自体の可変性については考慮しません。`Value<T>` クラスの構造として不変であることを目指します。

#### 2. `ValueUtils` クラス（ユーティリティメソッド群）

以下の静的ジェネリックメソッドを持つ `ValueUtils` という名前のユーティリティクラスを作成してください。

* `public static <E> Value<E> of(E value)`:
    指定された値を保持する `Value<E>` の新しいインスタンスを生成して返します。
* `public static <T, R> Value<R> map(Value<T> originalValue, Function<T, R> mapper)`:
    指定された `Value<T>` が保持している値に `mapper` 関数を適用し、その結果を保持する新しい `Value<R>` インスタンスを返します。`originalValue` が `null` の値を保持している場合は、結果の `Value<R>` も `null` を保持するようにしてください（`mapper` は適用されません）。`mapper` 関数自体が `null` を返した場合も、その `null` を保持する `Value<R>` を返します。

### レポート課題

作成した `Value<T>` クラスと `ValueUtils` クラスについて、以下の内容を含む簡単なレポートを作成してください。

1.  `Value<T>` クラスをイミュータブル（不変）に設計したことによる主な利点は何か、具体的に説明してください。
2.  `Value<T>` クラスでジェネリクス `<T>` を使用する主な利点は何か、説明してください。
3.  作成した `Value<T>` クラスと `ValueUtils` のメソッドを使用した具体的なコード例を2つ以上示し、それぞれの例が何を行っているのかを説明してください。
    - コード例が提出物に含まれる場合、そのクラス名を書いてください。


----

## チャレンジ課題の提出に関して

`src`ディレクトリを圧縮したzipファイルと、以下で指定するレポートを提出してください。

- ファイル名「`K00000_06_add.md`」※K00000は自分の学籍番号とする
- 内容は以下のテンプレートに従う
- 「参考文献」については、調べたURL等を事細かに記録しておくこと
    + LLMを使った場合、リンク共有が可能であればリンク共有を行う
    + リンク共有が行えない場合は、どのように聞いたかのプロンプトも同時に記載すること

### テンプレート

```md
第7回 チャレンジ課題レポート
----

Author: K00000 愛工太郎


## 1.`Value<T>`クラスをイミュータブル（不変）に設計したことによる主な利点は何か


## 2.`Value<T>`クラスでジェネリクス `<T>` を使用する主な利点は何か


## 3.作成した `Value<T>` クラスと `ValueUtils` のメソッドを使用例


## 所感

正直に思ったことを書いてください。

## 参考文献

- 参考にしたサイトのURL
- 参考にした書籍名とページ番号
- などを箇条書きする
```
